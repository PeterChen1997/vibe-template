name = "vibe-api"
main = "src/index.ts"
compatibility_date = "2024-11-01"
compatibility_flags = ["nodejs_compat"]

# D1 数据库绑定
[[d1_databases]]
binding = "DB"
database_name = "vibe-db"
database_id = "YOUR_DATABASE_ID_HERE"
migrations_dir = "migrations"

# R2 存储桶绑定 (可选)
# [[r2_buckets]]
# binding = "MEDIA_BUCKET"
# bucket_name = "vibe-media"

# 环境变量
[vars]
CORS_ORIGIN = "*"
# ACCESS_TOKEN 请使用 wrangler secret put ACCESS_TOKEN 设置
# 本地开发请在 .dev.vars 中设置
ACCESS_TOKEN = "vibe-dev-token"

# 开发环境配置
[env.dev]
name = "vibe-api-dev"
